#tr-elegant-popup {
  position: absolute !important;
  z-index: 2147483647 !important;
  min-width: 240px;
  max-width: 380px;
  border-radius: 14px !important;
  box-shadow: 0 12px 40px rgba(0,0,0,0.3) !important;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif !important;
  overflow: hidden;
  animation: trSlideIn 0.25s cubic-bezier(0, 0, 0.2, 1);
  backdrop-filter: blur(10px); /* Эффект стекла */
}

#tr-elegant-popup.tr-wide { max-width: 650px !important; }

@keyframes trSlideIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Темы: Убрали синий, добавили нейтральные тона */
.tr-theme-light {
  background: rgba(255, 255, 255, 0.95) !important;
  color: #1a1a1a !important;
  border: 1px solid #dcdcdc !important;
}
.tr-theme-dark {
  background: rgba(30, 30, 30, 0.95) !important;
  color: #f0f0f0 !important;
  border: 1px solid #444 !important;
}

/* Навигация */
.tr-nav {
  display: flex;
  justify-content: space-between;
  padding: 8px 12px;
  background: rgba(128, 128, 128, 0.1);
}

.tr-icon-btn {
  background: none; border: none; cursor: pointer;
  color: inherit; font-size: 16px; opacity: 0.6; transition: 0.2s;
}
.tr-icon-btn:hover { opacity: 1; transform: scale(1.1); }

/* Основной текст */
.tr-main-text {
  padding: 18px;
  font-size: 16px !important;
  line-height: 1.55 !important;
  font-weight: 500 !important;
}

/* ПАНЕЛЬ НАСТРОЕК (Без синего цвета!) */
.tr-settings-bar {
  padding: 12px;
  background: rgba(128, 128, 128, 0.08);
  border-top: 1px solid rgba(128, 128, 128, 0.15);
}

.tr-collapsed { display: none !important; }

.tr-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 13px;
  font-weight: 600;
}

/* ВЫПАДАЮЩИЙ СПИСОК (Исправлено: нейтральный вид) */
#tr-lang-picker {
  background: rgba(128, 128, 128, 0.15) !important;
  color: inherit !important;
  border: 1px solid rgba(128, 128, 128, 0.3) !important;
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 13px;
  cursor: pointer;
  outline: none;
}

#tr-lang-picker option {
  background: #fff; color: #000; /* Всегда читаемо */
}

.tr-theme-dark #tr-lang-picker option {
  background: #2d2d2d; color: #fff;
}

/* Кнопка смены темы */
.tr-action-btn {
  background: rgba(128, 128, 128, 0.2) !important;
  color: inherit !important;
  border: none !important;
  padding: 4px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  font-weight: bold;
}

/* Анимация точек загрузки */
.tr-loading-dots span {
  animation: trWait 1s infinite; margin: 0 2px; font-size: 24px;
}
.tr-loading-dots span:nth-child(2) { animation-delay: 0.2s; }
.tr-loading-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes trWait { 0%, 100% { opacity: 0.2; } 50% { opacity: 1; } }
